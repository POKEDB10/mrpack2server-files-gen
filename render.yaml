version: "1"
services:
  - type: web
    name: M2SFG
    runtime: docker
    plan: free
    region: oregon
    repo: https://github.com/POKEDB10/mrpack2server-files-gen
    
    # Docker runtime uses the Dockerfile, so we don't need build/start commands here.
    # The Dockerfile handles installing Java and running start.sh.

    envVars:
      - key: PORT
        value: 8090
      - key: PRIMARY_WORKER
        value: 1
      - key: SECRET_KEY
        generateValue: true
    
    # Health check to ensure the app is running before traffic is sent
    healthCheckPath: /